<!DOCTYPE html>
<html lang="en">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, minimum-scale=1, user-scalable=0"
  />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta charset="utf-8" />
  <head>
	<link rel="stylesheet" href="activity.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"/>
    <title>Monthly - Event Tests</title>
    <link rel="stylesheet" href="css/monthly.css" />
    <style type="text/css">
      body {
        font-family: Calibri;
        background-color: #f0f0f0;
        padding: 0em 1em;
      }
      #mycalendar {
        width: 100%;
        margin: 2em auto 0 auto;
        max-width: 80em;
        border: 1px solid #666;
      }
    </style>
  </head>
  <body>
	<div class="sidebar" id="mysidebar">
		<a href="#" class="closebtn" id="closebtn">X</a>
		<a href="activity.html">Home</a>
		<a href="task.html">your task</a>
		<a href="show.html">all data</a>
		<a href="calender.html">celender</a>
</div>
 <div id="main">
		<button class="openbtn"><i class="fas fa-bars"></i></button>
 </div>
    
    <h2>Activity Calendar</h2>
    
    <div class="monthly" id="mycalendar"></div>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/monthly.js"></script>
    <script type="text/javascript">
      var sampleEvents = {};
      var monthly = [];

      var hi = JSON.parse(localStorage.getItem("taskdata"));
      sampleEvents.monthly = hi.map((value, index) => {
        console.log(value);
        return {
          id: index,
          name: value.task,
          startdate: value.celender,
          enddate: value.celender,
          starttime: " 12:00",
          endtime: "2:00",
          color: changeColor(value),
          url: "",
        };
      });
      console.log(monthly);
      //   var sampleEvents = {
      //     monthly: [
      //       {
      //         id: 1,
      //         name: "Whole month event",
      //         startdate: "2016-10-01",
      //         enddate: "2016-10-31",
      //         starttime: "12:00",
      //         endtime: "2:00",
      //         color: "#99CCCC",
      //         url: "",
      //       },
      //     ],
      //   };

      function changeColor(value) {
        if (value.priority == "High") {
          return "red";
        } else if (value.priority == "Medium") {
          return "orange";
        } else {
          return "green";
        }
      }

      /*var sampleEvents={
	"monthly":[

{
		"id": 1,
		"name": "Whole month event",
		"startdate": "2016-10-01",
		"enddate": "2016-10-31",
		"starttime": "12:00",
		"endtime": "2:00",
		"color": "#99CCCC",
		"url": ""
		},
		{
		"id": 2,
		"name": "Test encompasses month",
		"startdate": "2016-10-29",
		"enddate": "2016-12-02",
		"starttime": "12:00",
		"endtime": "2:00",
		"color": "#CC99CC",
		"url": ""
		},
		{
		"id": 3,
		"name": "Test single day",
		"startdate": "2016-11-04",
		"enddate": "",
		"starttime": "",
		"endtime": "",
		"color": "#666699",
		"url": "https://www.google.com/"
		},
		{
		"id": 8,
		"name": "Test single day",
		"startdate": "2016-11-05",
		"enddate": "",
		"starttime": "",
		"endtime": "",
		"color": "#666699",
		"url": "https://www.google.com/"
		},
		{
		"id": 4,
		"name": "Test single day with time",
		"startdate": "2016-11-07",
		"enddate": "",
		"starttime": "12:00",
		"endtime": "02:00",
		"color": "#996666",
		"url": ""
		},
		{
		"id": 5,
		"name": "Test splits month",
		"startdate": "2016-11-25",
		"enddate": "2016-12-04",
		"starttime": "",
		"endtime": "",
		"color": "#999999",
		"url": ""
		},
		{
		"id": 6,
		"name": "Test events on same day",
		"startdate": "2016-11-25",
		"enddate": "",
		"starttime": "",
		"endtime": "",
		"color": "#99CC99",
		"url": ""
		},
		{
		"id": 7,
		"name": "Test events on same day",
		"startdate": "2016-11-25",
		"enddate": "",
		"starttime": "",
		"endtime": "",
		"color": "#669966",
		"url": ""
		},
		{
		"id": 9,
		"name": "Test events on same day",
		"startdate": "2016-11-25",
		"enddate": "",
		"starttime": "",
		"endtime": "",
		"color": "#999966",
		"url": ""
		}
	]
	}

		//{
		//"id": 1,
		//"name": "Whole month event",
		//"startdate": "2016-10-01",
		//"enddate": "2016-10-31",
		//"starttime": "12:00",
		//"endtime": "2:00",
		//"color": "#99CCCC",
		//"url": ""
		//},*/

      $(window).load(function () {
        $("#mycalendar").monthly({
          mode: "event",
          dataType: "json",
          events: sampleEvents,
        });
      });
	  let mysidebar=document.getElementById("mysidebar");
 let closebtn=document.getElementById("closebtn");
 let main=document.getElementById("main");
 main.addEventListener("click",()=>{
     mysidebar.style.width="250px";
 })
 closebtn.addEventListener("click",()=>{
      mysidebar.style.width="0px";
 })
    </script>
  </body>
</html>
